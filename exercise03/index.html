<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Exercise 3 - Software Defined Infrastructure Group 2</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Exercise 3";
        var mkdocs_page_input_path = "exercise03.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Software Defined Infrastructure Group 2
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Manual Server Management</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../exercise01/">Exercise 1</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise02/">Exercise 2</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Exercise 3</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#firewalls-and-ssh">Firewalls and SSH</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#nginx-installation">Nginx Installation</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#nginx-firewall">Nginx &amp; Firewall</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise04/">Exercise 4</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise05/">Exercise 5</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise06/">Exercise 6</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise07/">Exercise 7</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise08/">Exercise 8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise09/">Exercise 9</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise10/">Exercise 10</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Cloud Provider</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise11/">Exercise 11</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise12/">Exercise 12</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise13/">Exercise 13</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise14/">Exercise 14</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise15/">Exercise 15</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise16/">Exercise 16</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise17/">Exercise 17</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise18/">Exercise 18</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise19/">Exercise 19</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise20/">Exercise 20</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise21/">Exercise 21</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise22/">Exercise 22</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise23/">Exercise 23</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise24/">Exercise 24</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise25/">Exercise 25</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercise26/">Exercise 26</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Software Defined Infrastructure Group 2</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Manual Server Management</li>
      <li class="breadcrumb-item active">Exercise 3</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="exercise-3-improve-your-servers-security">Exercise 3: Improve your server’s security</h1>
<p>A firewall with the name <code>fw-exercise-03</code> has been created with a single
inbound rule for <strong>ICMP</strong> traffic. The server <code>exercise-03</code> has been
created using the new firewall and the same procedure as the previous
exercises. The server IP for <code>exercise-03</code> is <code>46.62.163.84</code>.</p>
<p>Pinging the server with <code>ping 46.62.163.84</code> results in successful ping answers but trying to connect using <code>ssh root@46.62.163.84</code> results in a timeout.</p>
<h2 id="firewalls-and-ssh">Firewalls and SSH</h2>
<p>Firewalls work on a whitelist principle. This means that as soon as a
firewall is applied all traffic is forbidden except the traffic allowed
by the firewall’s rules. Currently the firewall limits incoming traffic
to use the <strong>ICMP</strong> protocol which is used to exchange operation
information (for example the “alive-ness” when using <code>ping</code>) which
results in traffic using the <strong>TCP</strong> protocol (and any other protocol)
to be blocked. SSH is using <strong>TCP</strong> on port <code>22</code> and is therefor
blocked.</p>
<p>After adding an inbound <strong>TCP</strong> rule on port <code>22</code> both <code>ping</code> and <code>ssh</code>
access are successful.</p>
<h2 id="nginx-installation">Nginx Installation</h2>
<p>The server was updated and rebooted. After the reboot <code>nginx</code> has been
installed and the status of the <code>nginx</code> service has been confirmed:</p>
<pre class="highlight"><code class="language-txt"># systemctl status nginx
● nginx.service - A high performance web server and a reverse proxy server
      Loaded: loaded (/lib/systemd/system/nginx.service; enabled; preset: enabled)
      Active: active (running) since Mon 2025-07-21 12:03:09 UTC; 10s ago
      ...</code></pre>
<p><strong>Nginx</strong> is a server application that is used to host websites and
other web services. The websites served by <strong>nginx</strong> are by default
accessed using the HTTP protocol which is served via TCP on port <code>80</code>.
The command <code>wget</code> can be used to access the content of the default
generated website served by <code>nginx</code>:</p>
<pre class="highlight"><code class="language-+">root@exercise-03:~# wget -O - http://46.62.163.84
Connecting to 46.62.163.84:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 615 [text/html]
Saving to: ‘STDOUT’

&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Welcome to nginx!&lt;/title&gt;
...</code></pre>
<h2 id="nginx-firewall">Nginx &amp; Firewall</h2>
<p>When trying to get the file from the local computer the connection fails
with a timeout similarly to the SSH case before. The firewall once again
blocks all incoming traffic that is not whitelisted by a firewall rule.
Since HTTP used TCP over port 80 the current firewall setup blocks the
incoming HTTP traffic.</p>
<p>Since the firewall sits between the server and the internet, requests
can be made from the server to itself. The firewall would block such
traffic were it to receive it but since it is just routed using the
loopback interface of the server it will not reach any other network
interface other than the server itself.</p>
<p>After an inbound rule for TCP port <code>80</code> is added the website can be
accessed from outside too.</p>
<pre class="highlight"><code class="language-txt">$ wget -O - http://46.62.163.84
Connecting to 46.62.163.84:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 615 [text/html]
Saving to: ‘STDOUT’

&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Welcome to nginx!&lt;/title&gt;
...</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../exercise02/" class="btn btn-neutral float-left" title="Exercise 2"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../exercise04/" class="btn btn-neutral float-right" title="Exercise 4">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../exercise02/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../exercise04/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
